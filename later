-- Create table
create table TENOR_COUNTERS
(
  id            NUMBER(10) generated always as identity,
  supplierid    NUMBER(10) not null,
  name          NVARCHAR2(200),
  code          NVARCHAR2(200),
  columnname    NVARCHAR2(200),
  refcolumnname NVARCHAR2(200),
  description   NVARCHAR2(400),
  aggregation   NUMBER(10) not null,
  subsetid      NUMBER(10) not null,
  tenantid      NVARCHAR2(200),
  isdeleted     NUMBER(1) not null
)
tablespace RD_DATA_2021_TS3
  pctfree 10
  initrans 1
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
-- Create/Recreate indexes 
create index IX_TENOR_COUNTERS_ISDELETED on TENOR_COUNTERS (ISDELETED)
  tablespace TECH_DATA_TS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
create index IX_TENOR_COUNTERS_SUBSETID on TENOR_COUNTERS (SUBSETID)
  tablespace TECH_DATA_TS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
create index IX_TENOR_COUNTERS_TENANTID on TENOR_COUNTERS (TENANTID)
  tablespace TECH_DATA_TS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
-- Create/Recreate primary, unique and foreign key constraints 
alter table TENOR_COUNTERS
  add constraint PK_TENOR_COUNTERS primary key (ID)
  using index 
  tablespace TECH_DATA_TS
  pctfree 10
  initrans 2
  maxtrans 255
  storage
  (
    initial 64K
    next 1M
    minextents 1
    maxextents unlimited
  );
alter table TENOR_COUNTERS
  add constraint FK_TENOR_COUNTERS_SUBSETID foreign key (SUBSETID)
  references TENOR_SUBSETS (ID) on delete cascade;
alter table TENOR_COUNTERS
  add constraint FK_TENOR_COUNTERS_TENANTID foreign key (TENANTID)
  references TENOR_TENANTS (ID);
