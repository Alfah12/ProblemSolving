namespace lab
{
    class Program
    {
        static void Main(string[] args)
        {
            SaleemLinkedList saleemLinkedList = new SaleemLinkedList();
            saleemLinkedList.Append(10);
            saleemLinkedList.Append(20);
            saleemLinkedList.Append(30);
            saleemLinkedList.PrintAllNodes();

            //1) Insert At Begging
            //saleemLinkedList.AddAtStart(0);
            //saleemLinkedList.PrintAllNodes();


            //2) Find 
            //Console.WriteLine();
            //Console.WriteLine(saleemLinkedList.Find(10).Value);

            //3) Insert After
            //saleemLinkedList.InsertAfter(saleemLinkedList.Find(10), 15);
            //Console.WriteLine();
            //saleemLinkedList.PrintAllNodes();

            //4) Insert At End
            //saleemLinkedList.Append(30);
            //saleemLinkedList.PrintAllNodes();

            //5) Delete Node
            //saleemLinkedList.Delete(20);
            //saleemLinkedList.PrintAllNodes();

            //6) Delete First Node
            //saleemLinkedList.DeleteFirst();
            //saleemLinkedList.PrintAllNodes();

            //7) Delete Last
            saleemLinkedList.DeleteLast();
            saleemLinkedList.PrintAllNodes();

        }
        public class SaleemLinkedList
        {
            //Reference: https://www.codeproject.com/Articles/1104980/Linked-List-Implementation-in-Csharp
            public SaleemLinkedList()
            {
                head = new Node();
                current = head;
            }
            public class Node
            {
                public Node Next;
                public int Value;
            }

            private Node head;
            private Node current;//This will have latest node
            public int Count;

            public void AddAtStart(int data)
            {
                Node newNode = new Node() { Value = data };
                newNode.Next = head.Next;//new node will have reference of head's next reference
                head.Next = newNode;//and now head will refer to new node
                Count++;
            }
            public void Append(int data)
            {
                Node newNode = new Node();
                newNode.Value = data;
                current.Next = newNode;
                current = newNode;
                Count++;
            }
            public Node Find(int data)
            {
                Node curr = head;

                while (curr.Next != null)
                {
                    if (curr.Value == data)
                        return curr;
                    curr = curr.Next;
                }
                return null;
            }
            public void InsertAfter(Node prevNode, int data)
            {
                Node newNode = new Node() { Value = data };

                newNode.Next = prevNode.Next;
                prevNode.Next = newNode;
            }
            public void Delete(int data)
            {
                Node curr = head, prevNode = head;

                while (curr.Next != null)
                {
                    if (curr.Value == data)
                    {
                        prevNode.Next = curr.Next;
                        break;
                    }
                    else
                    {
                        prevNode = curr;
                        curr = curr.Next;
                    }
                }
            }
            public void DeleteFirst() => head = head.Next;
            public void DeleteLast()
            {
                Node curr = head, prevNode= head;

                while (curr.Next != null)
                {
                    prevNode = curr;
                    curr = curr.Next;
                }
                prevNode.Next = null;
                
            }
            public void PrintAllNodes()
            {
                //Traverse from head
                Console.Write("Head ->");
                Node curr = head;
                while (curr.Next != null)
                {
                    curr = curr.Next;
                    Console.Write(curr.Value);
                    Console.Write("->");
                }
                Console.Write("NULL");

                Console.WriteLine();
            }
        }
    }
}
